<div class="container">
  <div class="justify-content-center sign-in--main">
    <div class="row justify-content-center">
      <form #f="ngForm" class="col-12 col-md-10 col-lg-6" (ngSubmit)="onSignup()">
        <h4 class="mb-4 form-yellow-title">Sign Up</h4>
        <div class="form-row">
          <!-- <div class="form-group col-12">
            <input
            type="file"
            name="avatar"
            ngModel
            #avatar="ngModel"
            class="form-control"
            id="inputUpload4"
            placeholder="upload a picture">
          </div> -->
          <div class="form-group col-md-6">
            <input
            type="text"
            name="firstName"
            ngModel
            required
            #firstName="ngModel"
            pattern="[a-zA-Z]+$"
            class="form-control"
            id="inputFirstname4"
            placeholder="First name">
          </div>
          <div class="form-group col-md-6">
            <input
            type="text"
            name="lastName"
            required
            ngModel
            #lastName="ngModel"
            pattern="[a-zA-Z]+$"
            class="form-control"
            id="inputName4"
            placeholder="Last name">
          </div>
          <!-- ERROR HANDLER -->
          <div class="row">
            <div class="error--msg info-error--div col-6" *ngIf="lastName.touched && lastName.invalid">
              <div *ngIf="lastName.errors.required">
                Last Name is required
              </div>
              <div *ngIf="lastName.errors.pattern">
                Last Name should be only alphabetical characters.
              </div>
            </div>
            <div class="error--msg info-error--div col-6" *ngIf="firstName.touched && firstName.invalid">
              <div *ngIf="firstName.errors.required">
                First Name is required
              </div>
              <div *ngIf="firstName.errors.pattern">
                First name should be only alphabetical characters.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <input
          type="text"
          name="username"
          required
          ngModel
          #username="ngModel"
          pattern="[a-zA-Z0-9]+$"
          class="form-control"
          id="inputUsername"
          placeholder="Username">
        </div>
        <!-- ERROR HANDLER -->
        <div class="error--msg" *ngIf="username.touched && username.invalid">
          <div *ngIf="username.errors.required">
            Username is required
          </div>
          <div *ngIf="username.errors.pattern">
            Username must have between 6 and 33 alphabetical and/or numeric characters
          </div>
        </div>
        <div class="form-group">
          <input
          type="email"
          name="email"
          ngModel
          required
          #email="ngModel"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
          class="form-control"
          id="inputEmail"
          placeholder="example@provider.com">
        </div>
        <!-- ERROR HANDLER -->
        <div class="error--msg" *ngIf="email.touched && email.invalid">
          <div *ngIf="email.errors.required">
            Email is required
          </div>
          <div *ngIf="email.errors.pattern">
            Please, enter a valid email
          </div>
        </div>
        <div ngModelGroup="passwords" #passwords="ngModelGroup">
          <div class="form-group">
            <input
            type="password"
            name="password"
            ngModel
            required
            #password="ngModel"
            pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}"
            class="form-control"
            id="inputPassword"
            placeholder="Password">
          </div>
          <!-- ERROR HANDLER -->
          <div class="error--msg" *ngIf="password.touched && password.invalid">
            <div *ngIf="password.errors.required">
              Password is required
            </div>
            <div *ngIf="password.errors.pattern">
              Password must have 8 to 33 characters, including at least 1 digit, 1 lowercase, 1 uppercase and exactly 1 of special chars : @$!%*?&
            </div>
          </div>
          <div class="form-group">
            <input
            type="password"
            name="confirmPassword"
            required
            ngModel
            #confirmPassword="ngModel"
            minlength="8"
            pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}"
            class="form-control"
            id="inputConfirmPassword"
            placeholder="Confirm password">
          </div>
          <!-- ERROR HANDLER -->
          <div class="error--msg" *ngIf="confirmPassword.touched && confirmPassword.invalid">
            <div *ngIf="confirmPassword.errors.required">
              Password is required
            </div>
          </div>
        </div>
        <!-- ERROR HANDLER -->
        <div class="error--msg" *ngIf="passwords.touched && !samePwd(passwords.value.password, passwords.value.confirmPassword)">
          <div >
            Passwords are not the same
          </div>
        </div>
        <button type="submit" [disabled]="f.invalid" class="sign-in--button btn btn-outline-warning mx-auto d-block col-sm-12 col-md-6">Submit</button>
      </form>
    </div>
    <app-omniauth></app-omniauth>
  </div>
